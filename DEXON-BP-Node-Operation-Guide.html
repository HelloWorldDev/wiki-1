<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Running a BP node - </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="Getting-Started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li><a href="overview.html"><strong aria-hidden="true">1.1.</strong> Overview</a></li><li><a href="how-to-use-this-documentation.html"><strong aria-hidden="true">1.2.</strong> How to use this documentation</a></li></ol></li><li><a href="Network-Access-Guide.html"><strong aria-hidden="true">2.</strong> Network Access Guide</a></li><li><ol class="section"><li><a href="Create-Wallet.html"><strong aria-hidden="true">2.1.</strong> Create Wallet</a></li><li><a href="Access-to-DEXON.html"><strong aria-hidden="true">2.2.</strong> Access DEXON Network</a></li></ol></li><li><a href="DApp-Dev-Guide.html"><strong aria-hidden="true">3.</strong> DApp Development Guide</a></li><li><ol class="section"><li><a href="Hello-DEXON.html"><strong aria-hidden="true">3.1.</strong> Hello DEXON</a></li><li><a href="Solidity.html"><strong aria-hidden="true">3.2.</strong> Solidity</a></li><li><a href="Remix-IDE.html"><strong aria-hidden="true">3.3.</strong> Remix IDE</a></li><li><a href="Interact-with-Contracts.html"><strong aria-hidden="true">3.4.</strong> Interact with Contracts</a></li><li><ol class="section"><li><a href="Interact-from-Web.html"><strong aria-hidden="true">3.4.1.</strong> from Web</a></li><li><a href="Interact-from-Mobile-App.html"><strong aria-hidden="true">3.4.2.</strong> from Mobile App</a></li></ol></li><li><a href="Migrate-from-Ethereum.html"><strong aria-hidden="true">3.5.</strong> Migrate from Ethereum</a></li><li><a href="Tools-and-Libraries.html"><strong aria-hidden="true">3.6.</strong> Tools and Libraries</a></li><li><ol class="section"><li><a href="dexonscan.html"><strong aria-hidden="true">3.6.1.</strong> DEXONSCAN</a></li><li><a href="dexon-remix.html"><strong aria-hidden="true">3.6.2.</strong> DEXON Remix</a></li><li><a href="dexon-truffle.html"><strong aria-hidden="true">3.6.3.</strong> DEXON Truffle</a></li><li><a href="dexon-ganache.html"><strong aria-hidden="true">3.6.4.</strong> DEXON Ganache</a></li><li><a href="sol-tools.html"><strong aria-hidden="true">3.6.5.</strong> sol-tools</a></li><li><a href="dsolidity.html"><strong aria-hidden="true">3.6.6.</strong> dsolidity</a></li><li><a href="dsolc-js.html"><strong aria-hidden="true">3.6.7.</strong> dsolc-js</a></li><li><a href="web3-js.html"><strong aria-hidden="true">3.6.8.</strong> web3.js</a></li><li><a href="Mobile-SDK.html"><strong aria-hidden="true">3.6.9.</strong> Mobile SDK</a></li></ol></li></ol></li><li><a href="API.html"><strong aria-hidden="true">4.</strong> API</a></li><li><ol class="section"><li><a href="rpc-api.html"><strong aria-hidden="true">4.1.</strong> JSON-RPC API</a></li><li><a href="websocket-api.html"><strong aria-hidden="true">4.2.</strong> WebSocket API</a></li><li><a href="data-api.html"><strong aria-hidden="true">4.3.</strong> DATA API</a></li></ol></li><li><a href="Node-OP-Guide.html"><strong aria-hidden="true">5.</strong> Node Operator Guide</a></li><li><ol class="section"><li><a href="Running--a-BP-node-for-Testnet.html"><strong aria-hidden="true">5.1.</strong> Running a testnet BP node</a></li><li><a href="DEXON-BP-Node-Operation-Guide.html" class="active"><strong aria-hidden="true">5.2.</strong> Running a BP node</a></li><li><a href="DEXON-RPC-Node-Operation-Guide.html"><strong aria-hidden="true">5.3.</strong> Running a RPC node</a></li><li><a href="Rule-for-the-DEXON-node-set.html"><strong aria-hidden="true">5.4.</strong> Rule for the DEXON node set</a></li><li><a href="Governance-Contract-Access-Guide.html"><strong aria-hidden="true">5.5.</strong> Accessing the Governance Contract</a></li></ol></li><li><a href="Fullnode-Dev-Guide.html"><strong aria-hidden="true">6.</strong> Fullnode Development Guide</a></li><li><ol class="section"><li><a href="Fullnode-Development.html"><strong aria-hidden="true">6.1.</strong> Contribute to DEXON Fullnode</a></li><li><a href="List-of-Repositories.html"><strong aria-hidden="true">6.2.</strong> List of Repositories</a></li></ol></li><li><a href="Tech-Docs.html"><strong aria-hidden="true">7.</strong> Technical Documentations</a></li><li><ol class="section"><li><a href="Consensus-Algo-v2-Spec.html"><strong aria-hidden="true">7.1.</strong> Consensus Algorithm V2 Specification</a></li><li><a href="Selection-of-the-notary-set-size.html"><strong aria-hidden="true">7.2.</strong> Selection of notary set size</a></li><li><a href="DKG-TSIG-Protocol.html"><strong aria-hidden="true">7.3.</strong> DKG-Tsig Protocol</a></li><li><a href="On-Chain-Random-Oracle.html"><strong aria-hidden="true">7.4.</strong> On-chain Random Oracle</a></li><li><a href="DEXON-Cryptoeconomics.html"><strong aria-hidden="true">7.5.</strong> DEXON Cryptoeconomics</a></li><li><a href="Governance-Contract-Interface.html"><strong aria-hidden="true">7.6.</strong> Governance Contract Interface</a></li><li><a href="Configuration-Change.html"><strong aria-hidden="true">7.7.</strong> Configuration Change</a></li></ol></li><li><a href="Resource.html"><strong aria-hidden="true">8.</strong> Resource</a></li><li><ol class="section"><li><a href="Blockchain-Comparison.html"><strong aria-hidden="true">8.1.</strong> Blockchain Comparision</a></li><li><a href="DEXON-PAPERS.html"><strong aria-hidden="true">8.2.</strong> DEXON papers</a></li><li><a href="Reserved-Network-IDs.html"><strong aria-hidden="true">8.3.</strong> Reserved NetworkIDs</a></li><li><a href="Exchange-Integration-Guide.html"><strong aria-hidden="true">8.4.</strong> Exchange Integration Guide</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title"></h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#content" id="content"><h2>Content</h2></a>
<ul>
<li><a href="#objective">Objective</a></li>
<li><a href="#background">Background</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#environment-setup">Environment Setup</a></li>
<li><a href="#system-requirement">System Requirement</a></li>
<li><a href="#software-instruction">Software Instruction</a></li>
<li><a href="#mining-mechanism">Mining Mechanism</a></li>
</ul>
<a class="header" href="#objective" id="objective"><h2>Objective</h2></a>
<p>The document will contain essential instructions and knowledge for a node operator to successfully run a DEXON BP node.</p>
<a class="header" href="#background" id="background"><h2>Background</h2></a>
<p>For node operator to easily establish a DEXON BP node and continuously run the node for mining rewards, DEXON foundation provides the well-designed software supporting the mining mechanism on DEXON blockchain.</p>
<a class="header" href="#overview" id="overview"><h2>Overview</h2></a>
<p>The guide has 3 sections, providing the required knowledge for a node operator to: Set up node, run software, and collect mining rewards.</p>
<a class="header" href="#environment-setup" id="environment-setup"><h2>Environment Setup</h2></a>
<p>How to set up AWS/GCP server?</p>
<p>For AWS, please follow https://docs.aws.amazon.com/quickstarts/latest/vmlaunch/welcome.html</p>
<p>For GCP, please follow https://cloud.google.com/compute/docs/quickstart-linux</p>
<a class="header" href="#system-requirement" id="system-requirement"><h3>System Requirement</h3></a>
<p>Running DEXON BP node has the following requirement:</p>
<a class="header" href="#hardware-requirement" id="hardware-requirement"><h3>Hardware Requirement</h3></a>
<table><thead><tr><th> Tier </th><th> CPU </th><th> Memory </th><th> Bandwidth </th><th> Estimated Cost </th></tr></thead><tbody>
<tr><td> Minimum  </td><td> 4 Cores 2.0+ GHz </td><td> 8 GB </td><td> 200Mbps </td><td> 200~400 USD/mth </td></tr>
<tr><td> Recommend</td><td> 8 Cores 2.0+ GHz </td><td> 16 GB</td><td> 200Mbps </td><td> 600~800 USD/mth </td></tr>
</tbody></table>
<a class="header" href="#software-requirement" id="software-requirement"><h3>Software requirement</h3></a>
<ul>
<li>OS: Linux 64 bit.</li>
<li>Docker image: dexonfoundation/dexon</li>
<li>Docker</li>
<li>Go compiler</li>
<li>C++ compiler</li>
<li>Library: gmp, openssl, pkg-config</li>
</ul>
<p>Follow the appropriate link below to find installation instructions for your platform.</p>
<ul>
<li><a href="https://github.com/dexon-foundation/wiki/wiki/Installation-Instructions-for-Mac">Installation Instructions for Mac</a></li>
<li><a href="https://github.com/dexon-foundation/wiki/wiki/Installation-Instructions-for-Ubuntu">Installation Instructions for Ubuntu</a></li>
</ul>
<a class="header" href="#software-instruction" id="software-instruction"><h2>Software Instruction</h2></a>
<a class="header" href="#generate-node-key" id="generate-node-key"><h3>Generate Node Key</h3></a>
<p>A node key is required to operate a BP node. Run the following command to generate a node key:</p>
<pre><code>docker run -v $PWD:/mnt -it dexonfoundation/dexon-tools \
    nodekey generate /mnt/node.key
</code></pre>
<p>This show output content similar to the following</p>
<pre><code>Node Address: 0x93aA8C9C77De627E665F0b4015B7271B9Be89E83
Public Key:0x046272a157cbffa00677be00b08c9d47f295539b07e53360754579ad5e933a638ba58dcf850484e7d40b8bc163a920082b2500ee54968db7155c6231c7e4eed592
</code></pre>
<p>Please store the address and public key which will be used to register a fullnode.
A file node.key can be found under the current working directory. node.key is very important as it contains the node private key. Please save this file securely.</p>
<a class="header" href="#register-your-node" id="register-your-node"><h3>Register your node</h3></a>
<ol>
<li>Sync DEXON blockchain. Use the following command to download all the blocks in DEXON blockchain.</li>
</ol>
<pre><code>docker run -v $PWD:/mnt -it dexonfoundation/dexon \
        --bp \
        --nodekey=/mnt/node.key \
        --datadir=/mnt/datadir \
        --syncmode=fast\
        --cache=1024 \
        --gcmode=archive
</code></pre>
<p>When you see <code>commit pivot</code>, press <code>control + c</code>.</p>
<ol start="2">
<li>
<p>Send some DXN to your node key address, 100 DXN should suffice. These DXN are required for the node to send transaction and interact with the consensus protocol. You need to replenish them if it ran out.</p>
</li>
<li>
<p>Goto the <a href="https://testnet.dexscan.app/address/0x63751838D6485578B23e8b051d40861eCC416794">Governance contract page on DEXONSCAN</a>.</p>
</li>
<li>
<p>Navigate to the <code>Write</code> tab and select <code>register</code> from the dropdown menu.</p>
</li>
<li>
<p>Fill in the information like below; currently, you need 1M DXN to run a BP node. If you don't have enough testnet DXN, ask @wnhuang (telegram) for it.</p>
</li>
</ol>
<ul>
<li>Node Public Key (the public key generated above and should not duplicate)</li>
<li>Name of the node (maximum length: 32 bytes)</li>
<li>Contact email (maximum length: 32 bytes)</li>
<li>Node Location (maximum length: 32 bytes)</li>
<li>Website URL (maximum length: 128 bytes)</li>
</ul>
<p><img src="https://i.imgur.com/bc2vDgA.png" alt="Register in Governance Contract Page" />
The user whose stake is locked (bought DXN coin in private-sale), please contact DEXON Foundation and provide the information below.</p>
<ol start="6">
<li>Hit send to register your node.</li>
</ol>
<p>After this, you are successfully staked and the configuration will start to take effect after 2 epochs (2400 blocks).</p>
<p>Note that, the account of node.key and the account to send DXN coin to governance contract are not necessary to be the same. We strongly suggest using different keys to manage the risk.</p>
<a class="header" href="#start-the-bp-node" id="start-the-bp-node"><h3>Start the BP node</h3></a>
<p>Use the following command to start the BP node:</p>
<pre><code>docker run -v $PWD:/mnt -it dexonfoundation/dexon \
    --bp \
    --nodekey=/mnt/node.key \
    --datadir=/mnt/datadir \
    --syncmode=full \
    --cache=1024 \
    --gcmode=archive
</code></pre>
<p>Please make sure you have enough disk space in the current working directory</p>
<p>For more detail instruction about <code>gdex</code>, go to https://github.com/dexon-foundation/dexon or use</p>
<pre><code>docker run -v $PWD:/mnt -it dexonfoundation/dexon --help
</code></pre>
<a class="header" href="#mining-mechanism" id="mining-mechanism"><h2>Mining Mechanism</h2></a>
<a class="header" href="#a-hrefhttpsgithubcomdexon-foundationwikiwikidexon-cryptoeconomicsdexon-mining-economy-and-mining-rewardsa" id="a-hrefhttpsgithubcomdexon-foundationwikiwikidexon-cryptoeconomicsdexon-mining-economy-and-mining-rewardsa"><h3><a href="https://github.com/dexon-foundation/wiki/wiki/DEXON-Cryptoeconomics">DEXON Mining Economy and Mining Rewards</a></h3></a>
<p>Please read this document, https://github.com/dexon-foundation/wiki/wiki/DEXON-Cryptoeconomics</p>
<p>As an example, initially, each node can expectedly mine 1M * 18.75% = 187.5K DXN coin per year (before total minted tokens hit 1.5B DXN).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="Running--a-BP-node-for-Testnet.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="DEXON-RPC-Node-Operation-Guide.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="Running--a-BP-node-for-Testnet.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="DEXON-RPC-Node-Operation-Guide.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
